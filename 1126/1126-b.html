<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input id="content" type="text">
    <button id="btn1">增加節點</button>
    <br>
    <input id="delNodeNum" type="text">
    <button id="btn2">移除節點</button>
    <ul id="ul-1" class="ul-box">
        <li>HTML</li>
        <li>CSS</li>
    </ul>

    <script>
        // 1. 建立新節點 => createElement()
        // 2. 建立文字節點 => createTextNode()
        // 3. 將文字節點加入到新的節點 => appendChild()
        // 4. 取得加入新節點的位置 => getElementByTagName()
        // 5. 將新節點加入到步驟4的元素最後一個子節點 =>appendChild()

        // let btn1 = document.getElementById('btn1');
        // btn1.addEventListener('click', () =>  {
        //     let newElm = document.createElement('li');
        //     let newText = document.createTextNode('CSS');
        //     newElm.appendChild(newText);
        //     // <li>CSS</li>
        //     // let position = document.getElementsByTagName('ul')[0];
        //     // let position = document.getElementsByClassName('ul-box')[0];
        //     let position = document.getElementById('ul-1');
        //     // 最安全的做法 => 用id名稱來做(因為一個檔案中不會有重複的id)

        //     position.appendChild(newElm);
        // })

        let btn1 = document.getElementById('btn1');

        btn1.addEventListener('click', () => {
            let newElm = document.createElement('li');

            // 取得文字方塊內容
            let inputContent = document.getElementById('content');
            let newText = document.createTextNode(inputContent.value);

            newElm.appendChild(newText);
            // <li>CSS</li>
            // let position = document.getElementsByTagName('ul')[0];
            // let position = document.getElementsByClassName('ul-box')[0];
            let position = document.getElementById('ul-1');
            // 最安全的做法 => 用id名稱來做(因為一個檔案中不會有重複的id)

            position.appendChild(newElm);
        })

        let btn2 = document.getElementById('btn2');
        btn2.addEventListener('click', () => {
            // 取得所有li的項目個數
            let liCount = document.getElementsByTagName('li').length;

            // 取得刪除第幾個節點的文字方塊內容
            let delNodeNum = document.getElementById('delNodeNum').value - 1;
            if (delNodeNum >= 0 && delNodeNum < liCount) {
                // 1. 移除第一個清單
                // let removeElm = document.getElementsByTagName('li')[0];
                // 移除指定的清單
                let removeElm = document.getElementsByTagName('li')[delNodeNum];
                // 2. 找到被刪除的父元素節點
                let parentElm = removeElm.parentNode;
                // 3. 從父元素移除指定的子節點
                parentElm.removeChild(removeElm);
            } else {
                alert('請輸入有效範圍');
            }
        })

    </script>

</body>

</html>